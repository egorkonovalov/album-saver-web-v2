import{s as q,n as E,d,F as V,a as S,i as p,b as _,o as v,c as A,e as g,g as b,f as I,h,j as T,t as w,A as z,z as M}from"./DacqP540.js";import{S as R,i as B}from"./ZqVSTlDQ.js";import{a as F}from"./BokRUuSs.js";import{g as k,d as G,f as K,i as L,j as H}from"./CZiYa9kd.js";var P=(r=>(r.Album="albums",r.Track="tracks",r.Release="releases",r.Artist="artists",r.ArtistTracks="artist-tracks",r.ArtistAlbums="artist-albums",r.AlbumTracks="album-tracks",r))(P||{});function D(r){let e,a=(r[1].author===void 0?"Various Artists":r[1].author)+"",t;return{c(){e=h("p"),t=w(a),this.h()},l(l){e=A(l,"P",{class:!0});var s=g(e);t=I(s,a),s.forEach(d),this.h()},h(){v(e,"class","record__artist")},m(l,s){p(l,e,s),_(e,t)},p(l,s){s&2&&a!==(a=(l[1].author===void 0?"Various Artists":l[1].author)+"")&&S(t,a)},d(l){l&&d(e)}}}function U(r){let e,a,t,l=r[1].year+"",s,n=r[1].recordType&&j(r);return{c(){e=h("div"),n&&n.c(),a=T(),t=h("p"),s=w(l),this.h()},l(i){e=A(i,"DIV",{class:!0});var u=g(e);n&&n.l(u),a=b(u),t=A(u,"P",{});var c=g(t);s=I(c,l),c.forEach(d),u.forEach(d),this.h()},h(){v(e,"class","flex gap-1 text-[11px] font-medium")},m(i,u){p(i,e,u),n&&n.m(e,null),_(e,a),_(e,t),_(t,s)},p(i,u){i[1].recordType?n?n.p(i,u):(n=j(i),n.c(),n.m(e,a)):n&&(n.d(1),n=null),u&2&&l!==(l=i[1].year+"")&&S(s,l)},d(i){i&&d(e),n&&n.d()}}}function j(r){let e,a=(r[1].recordType?r[1].recordType:"Album")+"",t,l,s,n="â€¢";return{c(){e=h("p"),t=w(a),l=T(),s=h("p"),s.textContent=n},l(i){e=A(i,"P",{});var u=g(e);t=I(u,a),u.forEach(d),l=b(i),s=A(i,"P",{"data-svelte-h":!0}),M(s)!=="svelte-1ggzppq"&&(s.textContent=n)},m(i,u){p(i,e,u),_(e,t),p(i,l,u),p(i,s,u)},p(i,u){u&2&&a!==(a=(i[1].recordType?i[1].recordType:"Album")+"")&&S(t,a)},d(i){i&&(d(e),d(l),d(s))}}}function J(r){let e,a,t,l,s=r[1].title+"",n,i,u,c=r[0]!==P.Artist&&D(r),f=r[0]==="albums"&&U(r);return{c(){e=h("div"),a=T(),t=h("div"),l=h("p"),n=w(s),i=T(),c&&c.c(),u=T(),f&&f.c(),this.h()},l(o){e=A(o,"DIV",{class:!0,style:!0}),g(e).forEach(d),a=b(o),t=A(o,"DIV",{class:!0});var m=g(t);l=A(m,"P",{class:!0});var C=g(l);n=I(C,s),C.forEach(d),i=b(m),c&&c.l(m),u=b(m),f&&f.l(m),m.forEach(d),this.h()},h(){v(e,"class","cover"),V(e,"background-image","url("+r[1].imageUrl+")"),v(l,"class","record__name"),v(t,"class","record__title-container")},m(o,m){p(o,e,m),p(o,a,m),p(o,t,m),_(t,l),_(l,n),_(t,i),c&&c.m(t,null),_(t,u),f&&f.m(t,null)},p(o,[m]){m&2&&V(e,"background-image","url("+o[1].imageUrl+")"),m&2&&s!==(s=o[1].title+"")&&S(n,s),o[0]!==P.Artist?c?c.p(o,m):(c=D(o),c.c(),c.m(t,u)):c&&(c.d(1),c=null),o[0]==="albums"?f?f.p(o,m):(f=U(o),f.c(),f.m(t,null)):f&&(f.d(1),f=null)},i:E,o:E,d(o){o&&(d(e),d(a),d(t)),c&&c.d(),f&&f.d()}}}function N(r,e,a){let{requestType:t}=e,{record:l}=e;return z(()=>F.update(()=>({}))),r.$$set=s=>{"requestType"in s&&a(0,t=s.requestType),"record"in s&&a(1,l=s.record)},[t,l]}class $ extends R{constructor(e){super(),B(this,e,N,J,q,{requestType:0,record:1})}}class O{async getArtists(e){return(await k(G,{params:{query:e}})).result}async getTracks(e,a){let t={channelUrl:e};return a&&(t.takeCount=a.toString()),(await k(K,{params:t})).result}async getAlbums(e,a){let t={channelUrl:e};return a&&(t.takeCount=a.toString()),(await k(L,{params:t})).result}async getImage(e){return(await k(H,{params:{channelUrl:e}})).url}}const y=new O;class Q{async getArtists(e){return await y.getArtists(e)}async getTracks(e,a){return await y.getTracks(e,a)}async getAlbums(e,a){return await y.getAlbums(e,a)}async getImage(e){return await y.getImage(e)}}const x=new Q;export{$ as R,x as a,P as b};
