import{a5 as ve,v as ne,y as I,a6 as fe,a7 as ce,a8 as k,w as H,q as ie,z as N,H as g,a3 as G,V as Z,a9 as $,aa as j,ab as y,ac as R,ad as oe,h as _e,ae as V,af as de,ag as he,O as Ee,ah as le,ai as pe,aj as ee,ak as Y,al as xe,am as S,M as ae,an as P,ao as U,ap as Te,aq as Ae,ar as me,x as Ie,as as te,at as we,au as Ce,av as Ne,aw as He}from"./runtime.-sM8FUqq.js";const z=0,M=1,B=2;function Me(t,e,a,c,_){I&&fe();var s=t,v=ve(),p=_e,h,d,l,T,r=(v?g:G)(void 0),i=(v?g:G)(void 0),f=!1;function A(o,E){f=!0,E&&(Z(x),$(x),j(p));try{o===z&&a&&(d?y(d):d=H(()=>a(s))),o===M&&c&&(l?y(l):l=H(()=>c(s,r))),o===B&&_&&(T?y(T):T=H(()=>_(s,i))),o!==z&&d&&R(d,()=>d=null),o!==M&&l&&R(l,()=>l=null),o!==B&&T&&R(T,()=>T=null)}finally{E&&(j(null),$(null),Z(null),oe())}}var x=ne(()=>{if(h!==(h=e())){if(ce(h)){var o=h;f=!1,o.then(E=>{o===h&&(k(r,E),A(M,!0))},E=>{if(o===h)throw k(i,E),A(B,!0),i.v}),I?a&&(d=H(()=>a(s))):ie(()=>{f||A(z,!0)})}else k(r,h),A(M,!1);return()=>h=null}});I&&(s=N)}function Re(t,e){return e}function be(t,e,a,c){for(var _=[],s=e.length,v=0;v<s;v++)Te(e[v].e,_,!0);var p=s>0&&_.length===0&&a!==null;if(p){var h=a.parentNode;Ae(h),h.append(a),c.clear(),C(t,e[0].prev,e[s-1].next)}me(_,()=>{for(var d=0;d<s;d++){var l=e[d];p||(c.delete(l.k),C(t,l.prev,l.next)),Ie(l.e,!p)}})}function Se(t,e,a,c,_,s=null){var v=t,p={flags:e,items:new Map,first:null},h=(e&te)!==0;if(h){var d=t;v=I?V(de(d)):d.appendChild(he())}I&&fe();var l=null,T=!1;ne(()=>{var r=a(),i=Ee(r)?r:r==null?[]:le(r),f=i.length;if(T&&f===0)return;T=f===0;let A=!1;if(I){var x=v.data===pe;x!==(f===0)&&(v=ee(),V(v),Y(!1),A=!0)}if(I){for(var o=null,E,m=0;m<f;m++){if(N.nodeType===8&&N.data===xe){v=N,A=!0,Y(!1);break}var n=i[m],u=c(n,m);E=ue(N,p,o,null,n,u,m,_,e),p.items.set(u,E),o=E}f>0&&V(ee())}if(!I){var O=we;ke(i,p,v,_,e,(O.f&S)!==0,c)}s!==null&&(f===0?l?y(l):l=H(()=>s(v)):l!==null&&R(l,()=>{l=null})),A&&Y(!0),a()}),I&&(v=N)}function ke(t,e,a,c,_,s,v){var F,J,K,Q;var p=(_&Ce)!==0,h=(_&(P|U))!==0,d=t.length,l=e.items,T=e.first,r=T,i,f=null,A,x=[],o=[],E,m,n,u;if(p)for(u=0;u<d;u+=1)E=t[u],m=v(E,u),n=l.get(m),n!==void 0&&((F=n.a)==null||F.measure(),(A??(A=new Set)).add(n));for(u=0;u<d;u+=1){if(E=t[u],m=v(E,u),n=l.get(m),n===void 0){var O=r?r.e.nodes_start:a;f=ue(O,e,f,f===null?e.first:f.next,E,m,u,c,_),l.set(m,f),x=[],o=[],r=f.next;continue}if(h&&ye(n,E,u,_),n.e.f&S&&(y(n.e),p&&((J=n.a)==null||J.unfix(),(A??(A=new Set)).delete(n))),n!==r){if(i!==void 0&&i.has(n)){if(x.length<o.length){var D=o[0],w;f=D.prev;var X=x[0],L=x[x.length-1];for(w=0;w<x.length;w+=1)re(x[w],D,a);for(w=0;w<o.length;w+=1)i.delete(o[w]);C(e,X.prev,L.next),C(e,f,X),C(e,L,D),r=D,f=L,u-=1,x=[],o=[]}else i.delete(n),re(n,r,a),C(e,n.prev,n.next),C(e,n,f===null?e.first:f.next),C(e,f,n),f=n;continue}for(x=[],o=[];r!==null&&r.k!==m;)(s||!(r.e.f&S))&&(i??(i=new Set)).add(r),o.push(r),r=r.next;if(r===null)continue;n=r}x.push(n),f=n,r=n.next}if(r!==null||i!==void 0){for(var b=i===void 0?[]:le(i);r!==null;)(s||!(r.e.f&S))&&b.push(r),r=r.next;var q=b.length;if(q>0){var se=_&te&&d===0?a:null;if(p){for(u=0;u<q;u+=1)(K=b[u].a)==null||K.measure();for(u=0;u<q;u+=1)(Q=b[u].a)==null||Q.fix()}be(e,b,se,l)}}p&&ie(()=>{var W;if(A!==void 0)for(n of A)(W=n.a)==null||W.apply()}),ae.first=e.first&&e.first.e,ae.last=f&&f.e}function ye(t,e,a,c){c&P&&k(t.v,e),c&U?k(t.i,a):t.i=a}function ue(t,e,a,c,_,s,v,p,h){var d=(h&P)!==0,l=(h&Ne)===0,T=d?l?G(_):g(_):_,r=h&U?g(v):v,i={i:r,v:T,k:s,a:null,e:null,prev:a,next:c};try{return i.e=H(()=>p(t,T,r),I),i.e.prev=a&&a.e,i.e.next=c&&c.e,a===null?e.first=i:(a.next=i,a.e.next=i.e),c!==null&&(c.prev=i,c.e.prev=i.e),i}finally{}}function re(t,e,a){for(var c=t.next?t.next.e.nodes_start:a,_=e?e.e.nodes_start:a,s=t.e.nodes_start;s!==c;){var v=He(s);_.before(s),s=v}}function C(t,e,a){e===null?t.first=a:(e.next=a,e.e.next=a&&a.e),a!==null&&(a.prev=e,a.e.prev=e&&e.e)}export{Me as a,Se as e,Re as i};
