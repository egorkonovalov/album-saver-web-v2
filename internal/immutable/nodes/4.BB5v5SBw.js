import{e as ke}from"../chunks/index.CzR0xuCU.js";import{a as Y,R as ve,b as $e}from"../chunks/artists.controller.DK48g6XD.js";import{t as Z,T as x,h as O,u as X,e as z,P as he}from"../chunks/Placeholder.D7AKe3Y7.js";import{s as me,e as g,a as V,t as L,c as k,b as T,f as u,g as D,d as M,m as b,D as K,i as N,h,p as de,q as _e,j as R,n as _,v as Ee,H as le,I as ae,o as pe,l as re}from"../chunks/scheduler.Br1097ij.js";import{S as be,i as ge,t as P,a as S,g as ee,c as te,b as F,d as G,m as J,e as Q}from"../chunks/index.DJz_kk84.js";import{g as Ie}from"../chunks/entry.gSBun_94.js";import{a as Te}from"../chunks/stores.D6tJJVDc.js";import{b as j}from"../chunks/paths.DD6S-IUT.js";import{d as we}from"../chunks/downloader.controller.BaNpb0Ht.js";async function ye(n){let e=await Y.getTracks(n,9);return Z.clearTokens(x),e}async function Ce(n){let e=await Y.getAlbums(n,6);return Z.clearTokens(x),e}const Ae=async({url:n})=>{Z.clearTokens(x);const e=n.searchParams.get("artistId"),r=n.searchParams.get("artistName");if(e&&r)return{artistId:e,artistName:r,streamed:{tracks:ye(e),albums:Ce(e),artistImage:Y.getImage(e)}};ke(404,"Not found")},Ze=Object.freeze(Object.defineProperty({__proto__:null,load:Ae},Symbol.toStringTag,{value:"Module"})),ne='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6"><path stroke-linecap="round" stroke-linejoin="round" d="M8.25 4.5l7.5 7.5-7.5 7.5" /></svg>';function se(n){let e,r,l=n[0].recordType+"",t,c,a,o="â€¢",s,i,d=n[0].year+"",m;return{c(){e=g("div"),r=g("p"),t=L(l),c=V(),a=g("p"),a.textContent=o,s=V(),i=g("p"),m=L(d),this.h()},l(p){e=k(p,"DIV",{class:!0});var v=T(e);r=k(v,"P",{});var U=T(r);t=M(U,l),U.forEach(u),c=D(v),a=k(v,"P",{"data-svelte-h":!0}),Ee(a)!=="svelte-1ggzppq"&&(a.textContent=o),s=D(v),i=k(v,"P",{});var q=T(i);m=M(q,d),q.forEach(u),v.forEach(u),this.h()},h(){b(e,"class","flex gap-1 text-[11px] font-medium")},m(p,v){N(p,e,v),h(e,r),h(r,t),h(e,c),h(e,a),h(e,s),h(e,i),h(i,m)},p(p,v){v&1&&l!==(l=p[0].recordType+"")&&R(t,l),v&1&&d!==(d=p[0].year+"")&&R(m,d)},d(p){p&&u(e)}}}function Pe(n){let e,r,l,t,c,a=n[0].title+"",o,s,i,d=(n[0].author===void 0?"Various Artists":n[0].author)+"",m,p,v,U,q,$=n[0].recordType&&n[0].year&&se(n);return{c(){e=g("a"),r=g("div"),l=V(),t=g("div"),c=g("p"),o=L(a),s=V(),i=g("p"),m=L(d),p=V(),$&&$.c(),this.h()},l(E){e=k(E,"A",{href:!0,class:!0});var w=T(e);r=k(w,"DIV",{class:!0,style:!0}),T(r).forEach(u),l=D(w),t=k(w,"DIV",{class:!0});var I=T(t);c=k(I,"P",{class:!0});var y=T(c);o=M(y,a),y.forEach(u),s=D(I),i=k(I,"P",{class:!0});var C=T(i);m=M(C,d),C.forEach(u),p=D(I),$&&$.l(I),I.forEach(u),w.forEach(u),this.h()},h(){b(r,"class","cover"),K(r,"background-image","url("+n[0].imageUrl+")"),b(c,"class","record__name"),b(i,"class","record__artist"),b(t,"class","record__title-container"),b(e,"href",n[2]),b(e,"class",v=n[1]+" record")},m(E,w){N(E,e,w),h(e,r),h(e,l),h(e,t),h(t,c),h(c,o),h(t,s),h(t,i),h(i,m),h(t,p),$&&$.m(t,null),U||(q=de(e,"click",_e(n[3])),U=!0)},p(E,[w]){w&1&&K(r,"background-image","url("+E[0].imageUrl+")"),w&1&&a!==(a=E[0].title+"")&&R(o,a),w&1&&d!==(d=(E[0].author===void 0?"Various Artists":E[0].author)+"")&&R(m,d),E[0].recordType&&E[0].year?$?$.p(E,w):($=se(E),$.c(),$.m(t,null)):$&&($.d(1),$=null),w&2&&v!==(v=E[1]+" record")&&b(e,"class",v)},i:_,o:_,d(E){E&&u(e),$&&$.d(),U=!1,q()}}}function Ne(n,e,r){let{album:l}=e,{_class:t=""}=e;const c=`${j}/album?albumUrl=${l.youTubeMusicPlaylistUrl}`;function a(){Te.set(l),Ie(c)}return n.$$set=o=>{"album"in o&&r(0,l=o.album),"_class"in o&&r(1,t=o._class)},[l,t,c,a]}class Se extends be{constructor(e){super(),ge(this,e,Ne,Pe,me,{album:0,_class:1})}}function oe(n,e,r){const l=n.slice();return l[4]=e[r],l}function ce(n,e,r){const l=n.slice();return l[7]=e[r],l}function Ue(n){return{c:_,l:_,m:_,p:_,d:_}}function Ve(n){let e,r,l=n[0].artistName+"",t;return{c(){e=g("div"),r=g("h1"),t=L(l),this.h()},l(c){e=k(c,"DIV",{class:!0,style:!0});var a=T(e);r=k(a,"H1",{class:!0});var o=T(r);t=M(o,l),o.forEach(u),a.forEach(u),this.h()},h(){b(r,"class","name"),b(e,"class","artist-header"),K(e,"background-image","url("+n[3]+")")},m(c,a){N(c,e,a),h(e,r),h(r,t)},p(c,a){a&1&&l!==(l=c[0].artistName+"")&&R(t,l),a&1&&K(e,"background-image","url("+c[3]+")")},d(c){c&&u(e)}}}function De(n){let e;return{c(){e=g("div"),this.h()},l(r){e=k(r,"DIV",{class:!0}),T(e).forEach(u),this.h()},h(){b(e,"class","h-[10rem] animate-pulse bg-stone-200 w-full mb-4")},m(r,l){N(r,e,l)},p:_,d(r){r&&u(e)}}}function qe(n){return{c:_,l:_,m:_,p:_,i:_,o:_,d:_}}function He(n){let e,r,l=z(n[3]),t=[];for(let a=0;a<l.length;a+=1)t[a]=ie(ce(n,l,a));const c=a=>S(t[a],1,1,()=>{t[a]=null});return{c(){e=g("ul");for(let a=0;a<t.length;a+=1)t[a].c();this.h()},l(a){e=k(a,"UL",{class:!0});var o=T(e);for(let s=0;s<t.length;s+=1)t[s].l(o);o.forEach(u),this.h()},h(){b(e,"class","artist track-list conveyer")},m(a,o){N(a,e,o);for(let s=0;s<t.length;s+=1)t[s]&&t[s].m(e,null);r=!0},p(a,o){if(o&3){l=z(a[3]);let s;for(s=0;s<l.length;s+=1){const i=ce(a,l,s);t[s]?(t[s].p(i,o),P(t[s],1)):(t[s]=ie(i),t[s].c(),P(t[s],1),t[s].m(e,null))}for(ee(),s=l.length;s<t.length;s+=1)c(s);te()}},i(a){if(!r){for(let o=0;o<l.length;o+=1)P(t[o]);r=!0}},o(a){t=t.filter(Boolean);for(let o=0;o<t.length;o+=1)S(t[o]);r=!1},d(a){a&&u(e),pe(t,a)}}}function ie(n){let e,r,l,t,c,a,o;l=new ve({props:{requestType:$e.ArtistTracks,record:n[7]}});function s(){return n[2](n[7])}return{c(){e=g("li"),r=g("a"),F(l.$$.fragment),t=V(),this.h()},l(i){e=k(i,"LI",{class:!0});var d=T(e);r=k(d,"A",{href:!0});var m=T(r);G(l.$$.fragment,m),m.forEach(u),t=D(d),d.forEach(u),this.h()},h(){b(r,"href","/"),b(e,"class","record")},m(i,d){N(i,e,d),h(e,r),J(l,r,null),h(e,t),c=!0,a||(o=de(r,"click",_e(s)),a=!0)},p(i,d){n=i;const m={};d&1&&(m.record=n[7]),l.$set(m)},i(i){c||(P(l.$$.fragment,i),c=!0)},o(i){S(l.$$.fragment,i),c=!1},d(i){i&&u(e),Q(l),a=!1,o()}}}function Le(n){let e,r;return e=new he({props:{count:3,_class:"mt-0 track-list artist"}}),{c(){F(e.$$.fragment)},l(l){G(e.$$.fragment,l)},m(l,t){J(e,l,t),r=!0},p:_,i(l){r||(P(e.$$.fragment,l),r=!0)},o(l){S(e.$$.fragment,l),r=!1},d(l){Q(e,l)}}}function Me(n){return{c:_,l:_,m:_,p:_,i:_,o:_,d:_}}function Oe(n){let e,r,l=n[3].length&&ue(n);return{c(){l&&l.c(),e=re()},l(t){l&&l.l(t),e=re()},m(t,c){l&&l.m(t,c),N(t,e,c),r=!0},p(t,c){t[3].length?l?(l.p(t,c),c&1&&P(l,1)):(l=ue(t),l.c(),P(l,1),l.m(e.parentNode,e)):l&&(ee(),S(l,1,1,()=>{l=null}),te())},i(t){r||(P(l),r=!0)},o(t){S(l),r=!1},d(t){t&&u(e),l&&l.d(t)}}}function ue(n){let e,r,l=z(n[3]),t=[];for(let a=0;a<l.length;a+=1)t[a]=fe(oe(n,l,a));const c=a=>S(t[a],1,1,()=>{t[a]=null});return{c(){e=g("ul");for(let a=0;a<t.length;a+=1)t[a].c();this.h()},l(a){e=k(a,"UL",{class:!0});var o=T(e);for(let s=0;s<t.length;s+=1)t[s].l(o);o.forEach(u),this.h()},h(){b(e,"class","album-grid conveyer")},m(a,o){N(a,e,o);for(let s=0;s<t.length;s+=1)t[s]&&t[s].m(e,null);r=!0},p(a,o){if(o&1){l=z(a[3]);let s;for(s=0;s<l.length;s+=1){const i=oe(a,l,s);t[s]?(t[s].p(i,o),P(t[s],1)):(t[s]=fe(i),t[s].c(),P(t[s],1),t[s].m(e,null))}for(ee(),s=l.length;s<t.length;s+=1)c(s);te()}},i(a){if(!r){for(let o=0;o<l.length;o+=1)P(t[o]);r=!0}},o(a){t=t.filter(Boolean);for(let o=0;o<t.length;o+=1)S(t[o]);r=!1},d(a){a&&u(e),pe(t,a)}}}function fe(n){let e,r,l,t;return r=new Se({props:{album:n[4]}}),{c(){e=g("li"),F(r.$$.fragment),l=V()},l(c){e=k(c,"LI",{});var a=T(e);G(r.$$.fragment,a),l=D(a),a.forEach(u)},m(c,a){N(c,e,a),J(r,e,null),h(e,l),t=!0},p(c,a){const o={};a&1&&(o.album=c[4]),r.$set(o)},i(c){t||(P(r.$$.fragment,c),t=!0)},o(c){S(r.$$.fragment,c),t=!1},d(c){c&&u(e),Q(r)}}}function je(n){let e,r;return e=new he({props:{count:6,_class:"album-grid conveyer"}}),{c(){F(e.$$.fragment)},l(l){G(e.$$.fragment,l)},m(l,t){J(e,l,t),r=!0},p:_,i(l){r||(P(e.$$.fragment,l),r=!0)},o(l){S(e.$$.fragment,l),r=!1},d(l){Q(e,l)}}}function Re(n){let e,r,l,t,c,a,o,s,i,d,m,p,v,U,q,$,E,w,I={ctx:n,current:null,token:null,hasCatch:!1,pending:De,then:Ve,catch:Ue,value:3};O(e=n[0].streamed.artistImage,I);let y={ctx:n,current:null,token:null,hasCatch:!1,pending:Le,then:He,catch:qe,value:3,blocks:[,,,]};O(i=n[0].streamed.tracks,y);let C={ctx:n,current:null,token:null,hasCatch:!1,pending:je,then:Oe,catch:Me,value:3,blocks:[,,,]};return O(E=n[0].streamed.albums,C),{c(){I.block.c(),r=V(),l=g("section"),t=g("a"),c=L("Top Tracks"),a=new le(!1),s=V(),y.block.c(),d=V(),m=g("section"),p=g("a"),v=L("Albums"),U=new le(!1),$=V(),C.block.c(),this.h()},l(A){I.block.l(A),r=D(A),l=k(A,"SECTION",{});var f=T(l);t=k(f,"A",{href:!0,class:!0});var H=T(t);c=M(H,"Top Tracks"),a=ae(H,!1),H.forEach(u),s=D(f),y.block.l(f),f.forEach(u),d=D(A),m=k(A,"SECTION",{});var B=T(m);p=k(B,"A",{href:!0,class:!0});var W=T(p);v=M(W,"Albums"),U=ae(W,!1),W.forEach(u),$=D(B),C.block.l(B),B.forEach(u),this.h()},h(){a.a=null,b(t,"href",o=j+"/artist/tracks?artistId=$"+n[0].artistId),b(t,"class","text-xl px-4 btn btn--icon"),U.a=null,b(p,"href",q=j+"/artist/albums?artistId=$"+n[0].artistId),b(p,"class","px-4 btn btn--icon")},m(A,f){I.block.m(A,I.anchor=f),I.mount=()=>r.parentNode,I.anchor=r,N(A,r,f),N(A,l,f),h(l,t),h(t,c),a.m(ne,t),h(l,s),y.block.m(l,y.anchor=null),y.mount=()=>l,y.anchor=null,N(A,d,f),N(A,m,f),h(m,p),h(p,v),U.m(ne,p),h(m,$),C.block.m(m,C.anchor=null),C.mount=()=>m,C.anchor=null,w=!0},p(A,[f]){n=A,I.ctx=n,f&1&&e!==(e=n[0].streamed.artistImage)&&O(e,I)||X(I,n,f),(!w||f&1&&o!==(o=j+"/artist/tracks?artistId=$"+n[0].artistId))&&b(t,"href",o),y.ctx=n,f&1&&i!==(i=n[0].streamed.tracks)&&O(i,y)||X(y,n,f),(!w||f&1&&q!==(q=j+"/artist/albums?artistId=$"+n[0].artistId))&&b(p,"href",q),C.ctx=n,f&1&&E!==(E=n[0].streamed.albums)&&O(E,C)||X(C,n,f)},i(A){w||(P(y.block),P(C.block),w=!0)},o(A){for(let f=0;f<3;f+=1){const H=y.blocks[f];S(H)}for(let f=0;f<3;f+=1){const H=C.blocks[f];S(H)}w=!1},d(A){A&&(u(r),u(l),u(d),u(m)),I.block.d(A),I.token=null,I=null,y.block.d(),y.token=null,y=null,C.block.d(),C.token=null,C=null}}}function Be(n,e,r){let{data:l}=e;async function t(a){await we.download(a,2),l.environmentStore.envokeHaptic("heavy"),l.environmentStore.close()}const c=a=>t(a.youTubeMusicPlaylistUrl);return n.$$set=a=>{"data"in a&&r(0,l=a.data)},[l,t,c]}class xe extends be{constructor(e){super(),ge(this,e,Be,Re,me,{data:0})}}export{xe as component,Ze as universal};
