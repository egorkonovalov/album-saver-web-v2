import{e as X}from"../chunks/index.CzR0xuCU.js";import{a as S,R as Z,b as $}from"../chunks/artists.controller.DyDN6bEc.js";import{t as U,T as j,s as aa,b as M,P as D,e as E,i as q}from"../chunks/Placeholder.2R4Hn2L-.js";import{d as z,e as ta,b as m,t as g,c as ra}from"../chunks/disclose-version.Bxxz4Q4y.js";import{a2 as ea,l as H,a6 as B,a4 as sa,ac as K,ae as oa,af as ia,ag as la,aa as na,ah as ca,ad as da,t as F,y as e,A as u,z as t,w as C,x as G,v as L,g as p}from"../chunks/utils.BDNkSeAY.js";import{d as J,a as I}from"../chunks/store.BvG3WA17.js";import{i as Q}from"../chunks/index-client.Bb9ySHye.js";import{s as A}from"../chunks/attributes.C3MDAjnC.js";import{a as ma}from"../chunks/props.b-v-kYDU.js";import{g as ua}from"../chunks/entry.CzwfcAvW.js";import{a as va}from"../chunks/stores.CtG3pyQj.js";import{b as O}from"../chunks/paths.Hoct4GZC.js";import{d as _a}from"../chunks/downloader.controller.DJ043ikY.js";function V(r,a,v,w,T){var l=r,n="",_;ea(()=>{if(n===(n=a()??"")){H&&B();return}_!==void 0&&(da(_),_=void 0),n!==""&&(_=sa(()=>{if(H){K.data;for(var s=B(),k=s;s!==null&&(s.nodeType!==8||s.data!=="");)k=s,s=oa(s);if(s===null)throw ia(),la;z(K,k),l=na(s);return}var d=n+"",y=ta(d);z(ca(y),y.lastChild),l.before(y)}))})}async function fa(r){let a=await S.getTracks(r,9);return U.clearTokens(j),a}async function ba(r){let a=await S.getAlbums(r,6);return U.clearTokens(j),a}const ga=async({url:r})=>{U.clearTokens(j);const a=r.searchParams.get("artistId"),v=r.searchParams.get("artistName");if(a&&v)return{artistId:a,artistName:v,streamed:{tracks:fa(a),albums:ba(a),artistImage:S.getImage(a)}};X(404,"Not found")},La=Object.freeze(Object.defineProperty({__proto__:null,load:ga},Symbol.toStringTag,{value:"Module"})),Y='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6"><path stroke-linecap="round" stroke-linejoin="round" d="M8.25 4.5l7.5 7.5-7.5 7.5" /></svg>';var ha=(r,a)=>{r.preventDefault(),a()},ka=g('<div class="flex gap-1 text-[11px] font-medium"><p> </p> <p>â€¢</p> <p> </p></div>'),ya=g('<a><div class="cover"></div> <div class="record__title-container"><p class="record__name"> </p> <p class="record__artist"> </p> <!></div></a>');function pa(r,a){F(a,!0);let v=ma(a,"_class",3,"");const w=`${O}/album?albumUrl=${a.album.youTubeMusicPlaylistUrl}`;function T(){va.set(a.album),ua(w)}var l=ya();A(l,"href",w),l.__click=[ha,T];var n=e(l),_=u(n,2),s=e(_),k=e(s,!0);t(s);var d=u(s,2),y=e(d,!0);t(d);var R=u(d,2);Q(R,()=>a.album.recordType&&a.album.year,o=>{var c=ka(),i=e(c),h=e(i,!0);t(i);var f=u(i,4),b=e(f,!0);t(f),t(c),C(()=>{I(h,a.album.recordType),I(b,a.album.year)}),m(o,c)}),t(_),t(l),C(()=>{aa(l,v()+" record"),A(n,"style",`background-image: url(${a.album.imageUrl??""})`),I(k,a.album.title),I(y,a.album.author===void 0?"Various Artists":a.album.author)}),m(r,l),G()}J(["click"]);var wa=g('<div class="artist-header"><h1 class="name"> </h1></div>'),Ta=g('<div class="h-[10rem] animate-pulse bg-stone-200 w-full mb-4"></div>'),xa=(r,a,v)=>{r.preventDefault(),a(p(v).youTubeMusicPlaylistUrl)},Ia=g('<li class="record"><a href="/"><!></a></li>'),Aa=g('<ul class="artist track-list conveyer"></ul>'),Ca=g("<li><!></li>"),Ra=g('<ul class="album-grid conveyer"></ul>'),Na=g('<!> <section><a class="text-xl px-4 btn btn--icon">Top Tracks<!></a> <!></section> <section><a class="px-4 btn btn--icon">Albums<!></a> <!></section>',1);function Va(r,a){F(a,!0);async function v(o){await _a.download(o,2),a.data.environmentStore.envokeHaptic("heavy"),a.data.environmentStore.close()}var w=Na(),T=L(w);M(T,()=>a.data.streamed.artistImage,o=>{var c=Ta();m(o,c)},(o,c)=>{var i=wa(),h=e(i),f=e(h,!0);t(h),t(i),C(()=>{A(i,"style",`background-image: url(${p(c)??""})`),I(f,a.data.artistName)}),m(o,i)});var l=u(T,2),n=e(l),_=u(e(n));V(_,()=>Y),t(n);var s=u(n,2);M(s,()=>a.data.streamed.tracks,o=>{D(o,{count:3,_class:"mt-0 track-list artist"})},(o,c)=>{var i=Aa();E(i,21,()=>p(c),q,(h,f)=>{var b=Ia(),x=e(b);x.__click=[xa,v,f];var N=e(x);Z(N,{get requestType(){return $.ArtistTracks},get record(){return p(f)}}),t(x),t(b),m(h,b)}),t(i),m(o,i)}),t(l);var k=u(l,2),d=e(k),y=u(e(d));V(y,()=>Y),t(d);var R=u(d,2);M(R,()=>a.data.streamed.albums,o=>{D(o,{count:6,_class:"album-grid conveyer"})},(o,c)=>{var i=ra(),h=L(i);Q(h,()=>p(c).length,f=>{var b=Ra();E(b,21,()=>p(c),q,(x,N)=>{var P=Ca(),W=e(P);pa(W,{get album(){return p(N)}}),t(P),m(x,P)}),t(b),m(f,b)}),m(o,i)}),t(k),C(()=>{A(n,"href",`${O??""}/artist/tracks?artistId=$${a.data.artistId??""}`),A(d,"href",`${O??""}/artist/albums?artistId=$${a.data.artistId??""}`)}),m(r,w),G()}J(["click"]);export{Va as component,La as universal};
