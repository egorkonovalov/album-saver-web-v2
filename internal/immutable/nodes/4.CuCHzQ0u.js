import{e as X}from"../chunks/index.CzR0xuCU.js";import{a as D,c as Z,R as $,b as aa}from"../chunks/artists.controller.Bg8LgLle.js";import{t as E,T as S,s as I,f as ta,b as M,P as U,e as j,i as q}from"../chunks/Placeholder.DA5kaB8F.js";import{b as z,d as ra,a as m,t as g,c as ea}from"../chunks/disclose-version.CwmAI5Sj.js";import{z as sa,C as B,K,A as oa,D as L,L as la,M as ia,N as na,J as ca,G as da,B as ma,p as V,m as e,v as u,o as t,t as A,l as W,k as G,g as p}from"../chunks/runtime.BcVk7UNP.js";import{d as Y,a as C}from"../chunks/store.Dlcqcj33.js";import{b as ua,i as F}from"../chunks/index-client.B0zAmEIW.js";import{g as va}from"../chunks/entry.C8ZGARzC.js";import{b as O}from"../chunks/paths.XWCyYyRa.js";import{d as _a}from"../chunks/downloader.controller.tAUYAqJl.js";import{p as fa}from"../chunks/platformenvironment.service.xGjJADBI.js";function H(r,a,v,T,w){var i=r,n="",_;sa(()=>{if(n===(n=a()??"")){B&&K();return}_!==void 0&&(ma(_),_=void 0),n!==""&&(_=oa(()=>{if(B){L.data;for(var s=K(),k=s;s!==null&&(s.nodeType!==8||s.data!=="");)k=s,s=la(s);if(s===null)throw ia(),na;z(L,k),i=ca(s);return}var d=n+"",y=ra(d);z(da(y),y.lastChild),i.before(y)}))})}async function ba(r){let a=await D.getTracks(r,9);return E.clearTokens(S),a}async function ga(r){let a=await D.getAlbums(r,6);return E.clearTokens(S),a}const ha=async({url:r})=>{E.clearTokens(S);const a=r.searchParams.get("artistId"),v=r.searchParams.get("artistName");if(a&&v)return{artistId:a,artistName:v,streamed:{tracks:ba(a),albums:ga(a),artistImage:D.getImage(a)}};X(404,"Not found")},La=Object.freeze(Object.defineProperty({__proto__:null,load:ha},Symbol.toStringTag,{value:"Module"})),J='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6"><path stroke-linecap="round" stroke-linejoin="round" d="M8.25 4.5l7.5 7.5-7.5 7.5" /></svg>';var ka=(r,a)=>{r.preventDefault(),a()},ya=g('<div class="flex gap-1 text-[11px] font-medium"><p> </p> <p>â€¢</p> <p> </p></div>'),pa=g('<a><div class="cover"></div> <div class="record__title-container"><p class="record__name"> </p> <p class="record__artist"> </p> <!></div></a>');function Ta(r,a){V(a,!0);let v=ua(a,"_class",3,"");const T=`${O}/album?albumUrl=${a.album.youTubeMusicPlaylistUrl}`;function w(){Z.set(a.album),va(T)}var i=pa();I(i,"href",T),i.__click=[ka,w];var n=e(i),_=u(n,2),s=e(_),k=e(s,!0);t(s);var d=u(s,2),y=e(d,!0);t(d);var N=u(d,2);F(N,()=>a.album.recordType&&a.album.year,o=>{var c=ya(),l=e(c),h=e(l,!0);t(l);var f=u(l,4),b=e(f,!0);t(f),t(c),A(()=>{C(h,a.album.recordType),C(b,a.album.year)}),m(o,c)}),t(_),t(i),A(()=>{ta(i,v()+" record"),I(n,"style",`background-image: url(${a.album.imageUrl??""})`),C(k,a.album.title),C(y,a.album.author===void 0?"Various Artists":a.album.author)}),m(r,i),W()}Y(["click"]);var wa=g('<div class="artist-header"><h1 class="name"> </h1></div>'),xa=g('<div class="h-[10rem] animate-pulse bg-stone-200 w-full mb-4"></div>'),Ca=(r,a,v)=>{r.preventDefault(),a(p(v).youTubeMusicPlaylistUrl)},Ia=g('<li class="record"><a href="/"><!></a></li>'),Aa=g('<ul class="artist track-list conveyer"></ul>'),Na=g("<li><!></li>"),Ra=g('<ul class="album-grid conveyer"></ul>'),Pa=g('<!> <section><a class="text-xl px-4 btn btn--icon">Top Tracks<!></a> <!></section> <section><a class="px-4 btn btn--icon">Albums<!></a> <!></section>',1);function Ga(r,a){V(a,!0);async function v(o){await _a.download(o,2),fa.closeWith("success")}var T=Pa(),w=G(T);M(w,()=>a.data.streamed.artistImage,o=>{var c=xa();m(o,c)},(o,c)=>{var l=wa(),h=e(l),f=e(h,!0);t(h),t(l),A(()=>{I(l,"style",`background-image: url(${p(c)??""})`),C(f,a.data.artistName)}),m(o,l)});var i=u(w,2),n=e(i),_=u(e(n));H(_,()=>J),t(n);var s=u(n,2);M(s,()=>a.data.streamed.tracks,o=>{U(o,{count:3,_class:"mt-0 track-list artist"})},(o,c)=>{var l=Aa();j(l,21,()=>p(c),q,(h,f)=>{var b=Ia(),x=e(b);x.__click=[Ca,v,f];var R=e(x);$(R,{get requestType(){return aa.ArtistTracks},get record(){return p(f)}}),t(x),t(b),m(h,b)}),t(l),m(o,l)}),t(i);var k=u(i,2),d=e(k),y=u(e(d));H(y,()=>J),t(d);var N=u(d,2);M(N,()=>a.data.streamed.albums,o=>{U(o,{count:6,_class:"album-grid conveyer"})},(o,c)=>{var l=ea(),h=G(l);F(h,()=>p(c).length,f=>{var b=Ra();j(b,21,()=>p(c),q,(x,R)=>{var P=Na(),Q=e(P);Ta(Q,{get album(){return p(R)}}),t(P),m(x,P)}),t(b),m(f,b)}),m(o,l)}),t(k),A(()=>{I(n,"href",`${O??""}/artist/tracks?artistId=$${a.data.artistId??""}`),I(d,"href",`${O??""}/artist/albums?artistId=$${a.data.artistId??""}`)}),m(r,T),W()}Y(["click"]);export{Ga as component,La as universal};
