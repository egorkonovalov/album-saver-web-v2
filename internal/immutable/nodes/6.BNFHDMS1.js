import{e as I}from"../chunks/DNSHY1Ls.js";import{a as R,R as A,b as L}from"../chunks/DA0qzjG8.js";import{s as M,d,i as $,l as v,n as u,m as N,o as p,c as k,e as g,h as b,b as y,p as O,q as U,g as z,j as B}from"../chunks/DacqP540.js";import{h as w,u as H,e as P,P as D}from"../chunks/CZiYa9kd.js";import{S as F,i as G,t as _,a as m,g as J,c as K,d as C,m as q,b as j,e as E}from"../chunks/ZqVSTlDQ.js";import{d as Q}from"../chunks/BRxswFr9.js";const V=async({url:l})=>{const r=l.searchParams.get("artistId");if(r)return{streamed:{tracks:R.getTracks(r)}};I(404,"Not found")},le=Object.freeze(Object.defineProperty({__proto__:null,load:V},Symbol.toStringTag,{value:"Module"}));function S(l,r,o){const a=l.slice();return a[4]=r[o],a}function W(l){return{c:u,l:u,m:u,p:u,i:u,o:u,d:u}}function X(l){let r,o,a=P(l[3]),e=[];for(let t=0;t<a.length;t+=1)e[t]=T(S(l,a,t));const s=t=>_(e[t],1,1,()=>{e[t]=null});return{c(){r=b("ul");for(let t=0;t<e.length;t+=1)e[t].c();this.h()},l(t){r=k(t,"UL",{class:!0});var c=g(r);for(let n=0;n<e.length;n+=1)e[n].l(c);c.forEach(d),this.h()},h(){p(r,"class","artist track-list")},m(t,c){$(t,r,c);for(let n=0;n<e.length;n+=1)e[n]&&e[n].m(r,null);o=!0},p(t,c){if(c&3){a=P(t[3]);let n;for(n=0;n<a.length;n+=1){const i=S(t,a,n);e[n]?(e[n].p(i,c),m(e[n],1)):(e[n]=T(i),e[n].c(),m(e[n],1),e[n].m(r,null))}for(J(),n=a.length;n<e.length;n+=1)s(n);K()}},i(t){if(!o){for(let c=0;c<a.length;c+=1)m(e[c]);o=!0}},o(t){e=e.filter(Boolean);for(let c=0;c<e.length;c+=1)_(e[c]);o=!1},d(t){t&&d(r),N(e,t)}}}function T(l){let r,o,a,e,s,t,c;a=new A({props:{requestType:L.ArtistTracks,record:l[4]}});function n(){return l[2](l[4])}return{c(){r=b("li"),o=b("a"),E(a.$$.fragment),e=B(),this.h()},l(i){r=k(i,"LI",{class:!0});var f=g(r);o=k(f,"A",{href:!0});var h=g(o);j(a.$$.fragment,h),h.forEach(d),e=z(f),f.forEach(d),this.h()},h(){p(o,"href","/"),p(r,"class","record")},m(i,f){$(i,r,f),y(r,o),q(a,o,null),y(r,e),s=!0,t||(c=O(o,"click",U(n)),t=!0)},p(i,f){l=i;const h={};f&1&&(h.record=l[4]),a.$set(h)},i(i){s||(m(a.$$.fragment,i),s=!0)},o(i){_(a.$$.fragment,i),s=!1},d(i){i&&d(r),C(a),t=!1,c()}}}function Y(l){let r,o;return r=new D({props:{count:10,_class:"mt-0 track-list artist"}}),{c(){E(r.$$.fragment)},l(a){j(r.$$.fragment,a)},m(a,e){q(r,a,e),o=!0},p:u,i(a){o||(m(r.$$.fragment,a),o=!0)},o(a){_(r.$$.fragment,a),o=!1},d(a){C(r,a)}}}function Z(l){let r,o,a,e={ctx:l,current:null,token:null,hasCatch:!1,pending:Y,then:X,catch:W,value:3,blocks:[,,,]};return w(o=l[0].streamed.tracks,e),{c(){r=v(),e.block.c()},l(s){r=v(),e.block.l(s)},m(s,t){$(s,r,t),e.block.m(s,e.anchor=t),e.mount=()=>r.parentNode,e.anchor=r,a=!0},p(s,[t]){l=s,e.ctx=l,t&1&&o!==(o=l[0].streamed.tracks)&&w(o,e)||H(e,l,t)},i(s){a||(m(e.block),a=!0)},o(s){for(let t=0;t<3;t+=1){const c=e.blocks[t];_(c)}a=!1},d(s){s&&d(r),e.block.d(s),e.token=null,e=null}}}function x(l,r,o){async function a(t){await Q.download(t,2),e.environmentStore.envokeHaptic("heavy"),e.environmentStore.close()}let{data:e}=r;const s=t=>a(t.youTubeMusicPlaylistUrl);return l.$$set=t=>{"data"in t&&o(0,e=t.data)},[e,a,s]}class se extends F{constructor(r){super(),G(this,r,x,Z,M,{data:0})}}export{se as component,le as universal};
